// Generated by CoffeeScript 2.0.1
(function() {
  module.exports = function(context) {
    var _get;
    ({
      ALL_FIELDS: ['id', 'attachment', 'can_comment', 'can_remove', 'can_hide', 'can_like', 'comment_count', 'created_time', 'from', 'message', 'message_tags', 'object', 'parent']
    });
    _get = function(comment_id, fields = ['id', 'message']) {
      return context.createCall({
        endpoint: `${comment_id}`
      }).describe(`getting comment ${comment_id}`).authorizeByToken().setFields(fields).setMethod('GET');
    };
    return {
      update: function(comment_id, message) {
        return context.createCall({
          endpoint: `${comment_id}`
        }).describe(`updateing comment ${comment_id} ${message}`).authorizeByToken().setMethod('POST').setJson({
          message: message,
          formatting: 'MARKDOWN'
        });
      },
      // TODO: rename to 'single' and add 'many'
      single: _get,
      add: function(object_id, {message, attachment_url}) {
        return context.createCall({
          endpoint: `${object_id}/comments`
        }).describe(`commenting on ${object_id}: ${message}`).authorizeByToken().setMethod('POST').setJson({
          message: message
        }).addJson('attachment_url', attachment_url);
      }
    };
  };

}).call(this);
