// Generated by CoffeeScript 2.0.1
(function() {
  module.exports = function(context) {
    return {
      getMembers: function(group_id) {
        return context.edge(group_id, 'members').describe(`getting group(${group_id})/members`).authorizeByToken().setFields(['id']).setMethod('GET').allPages();
      },
      getAdmins: function(group_id) {
        return context.edge(group_id, 'admins').describe(`getting group(${group_id})/admins`).authorizeByToken().setFields(['id']).setMethod('GET').allPages();
      },
      addMember: function(group_id, email) {
        return context.edge(group_id, 'members').describe(`Adding ${email} to group ${group_id}`).authorizeByToken().setMethod('POST').addQueryStringParams({
          email: email
        });
      },
      promoteAdmin: function(group_id, user_id) {
        return context.createCall({
          endpoint: `${user_id}/admins/${user_id}`
        }).describe(`Promoting ${user_id} to admin of group ${group_id}`).authorizeByToken().setMethod('POST');
      },
      //# TODO: rename to postToFeed
      addPost: function(group_id, {message, markdown = false}) {
        var formatting;
        formatting = 'PLAINTEXT';
        if (markdown) {
          formatting = 'MARKDOWN';
        }
        return context.createCall({
          endpoint: `${group_id}/feed`
        }).describe(`creating post to (${group_id}`).authorizeByToken().setMethod('POST').setJson({
          message: message,
          formatting: formatting
        });
      }
    };
  };

}).call(this);
